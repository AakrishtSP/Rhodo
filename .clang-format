#file: noinspection YAMLSchemaValidation
---
Language: Cpp
BasedOnStyle: Google

# --- Indentation & Width ---
IndentWidth: 4
TabWidth: 4
ContinuationIndentWidth: 8
AccessModifierOffset: -1
ColumnLimit: 80

# --- Line Breaking ---
AlwaysBreakTemplateDeclarations: Yes
BreakBeforeBraces: Attach
BreakConstructorInitializers: BeforeColon
AllowShortFunctionsOnASingleLine: Inline
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AllowShortCaseLabelsOnASingleLine: false
AllowShortBlocksOnASingleLine: Never
AllowShortLambdasOnASingleLine: All
AllowShortEnumsOnASingleLine: false

# --- Alignment ---
AlignOperands: true
AlignConsecutiveAssignments: None
AlignConsecutiveDeclarations: None
AlignTrailingComments: true
AlignConsecutiveMacros: AcrossEmptyLinesAndComments
AlignEscapedNewlines: Left
AlignAfterOpenBracket: Align

# --- Spaces ---
SpacesInAngles: Never
SpacesInParentheses: false
SpacesInConditionalStatement: false
SpacesInCStyleCastParentheses: false
SpaceAfterCStyleCast: false
SpaceAfterTemplateKeyword: true
SpaceBeforeRangeBasedForLoopColon: true
SpaceInEmptyParentheses: false
SpaceBeforeParens: ControlStatements
SpacesBeforeTrailingComments: 2

# --- Includes ---
IncludeIsMainRegex: '([-_](test|unittest))?$'

IncludeCategories:
  - Regex: '^<.*\.h>'      # C system headers
    Priority: 1
  - Regex: '^<.*>'         # C++ standard library
    Priority: 2
  - Regex: '^".*\.h"'      # Project C headers
    Priority: 3
  - Regex: '^".*"'         # Project headers
    Priority: 4

SortIncludes: CaseSensitive
IncludeBlocks: Regroup

# --- Newlines ---
InsertNewlineAtEOF: true
MaxEmptyLinesToKeep: 1

# --- C++11/14/17/20 ---
Cpp11BracedListStyle: true
FixNamespaceComments: true
SortUsingDeclarations: true

# --- Pointer alignment ---
PointerAlignment: Left
DerivePointerAlignment: false

# --- Line Breaking Penalties ---
PenaltyBreakAssignment: 2
PenaltyBreakBeforeFirstCallParameter: 1
PenaltyBreakComment: 300
PenaltyBreakFirstLessLess: 120
PenaltyBreakString: 1000
PenaltyExcessCharacter: 1000000
PenaltyReturnTypeOnItsOwnLine: 200

# --- Other ---
BinPackArguments: true
BinPackParameters: true
ConstructorInitializerIndentWidth: 4
ReflowComments: true
...
