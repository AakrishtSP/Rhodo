---
# Rhodo Engine Core - Performance-First LLVM Style
# Optimized for: ECS, allocators, SIMD, render loops, job systems
InheritParentConfig: true
FormatStyle: file
HeaderFilterRegex: '^((?!.*(build|_deps|thirdparty|cmake-build|\.conan)).)*$'
Checks: >
  -*,
  bugprone-*,
  performance-*,
  modernize-*,
  llvm-*,
  readability-identifier-naming,
  readability-function-size,
  readability-misleading-indentation,
  readability-braces-around-statements,
  readability-redundant-*,
  -readability-redundant-declaration,
  readability-simplify-*,
  readability-static-*,
  portability-*,
  misc-definitions-in-headers,
  misc-misplaced-const,
  misc-redundant-expression,
  misc-unconventional-assign-operator,
  misc-uniqueptr-reset-release,
  misc-unused-*,
  cert-dcl21-cpp,
  cert-dcl50-cpp,
  cert-dcl58-cpp,
  cert-env33-c,
  cert-err34-c,
  cert-err52-cpp,
  cert-err58-cpp,
  cert-err60-cpp,
  cert-mem57-cpp,
  cert-oop58-cpp,
  -bugprone-easily-swappable-parameters,
  -bugprone-exception-escape,
  -bugprone-empty-catch,
  -modernize-use-trailing-return-type,
  -modernize-avoid-c-arrays,
  -modernize-use-auto,
  -readability-function-cognitive-complexity,
  -llvm-header-guard,
  -portability-avoid-pragma-once,
  -readability-identifier-naming,
  -misc-use-anonymous-namespace,
  -cppcoreguidelines-avoid-non-const-global-variables

CheckOptions:
  # Allow performance-critical patterns
  - { key: performance-move-const-arg.CheckTriviallyCopyableMove, value: false }
  - { key: performance-unnecessary-value-param.AllowedTypes, value: 'std::function' }

  # Relaxed function size limits for engine systems
  - { key: readability-function-size.LineThreshold, value: 150 }
  - { key: readability-function-size.StatementThreshold, value: 100 }
  - { key: readability-function-size.BranchThreshold, value: 20 }
  - { key: readability-function-size.ParameterThreshold, value: 10 }

  # Naming (keep consistent with parent)
  - { key: readability-identifier-naming.ClassCase, value: CamelCase }
  - { key: readability-identifier-naming.StructCase, value: CamelCase }
  - { key: readability-identifier-naming.EnumCase, value: CamelCase }
  - { key: readability-identifier-naming.FunctionCase, value: CamelCase }
  - { key: readability-identifier-naming.MethodCase, value: CamelCase }
  - { key: readability-identifier-naming.VariableCase, value: lower_case }
  - { key: readability-identifier-naming.ParameterCase, value: lower_case }
  - { key: readability-identifier-naming.PrivateMemberCase, value: lower_case }
  - { key: readability-identifier-naming.PrivateMemberSuffix, value: _ }
  - { key: readability-identifier-naming.ConstantCase, value: CamelCase }
  - { key: readability-identifier-naming.ConstantPrefix, value: k }
  - { key: readability-identifier-naming.EnumConstantCase, value: CamelCase }
  - { key: readability-identifier-naming.MacroDefinitionCase, value: UPPER_CASE }
  - { key: readability-identifier-naming.NamespaceCase, value: lower_case }
  - { key: readability-identifier-naming.TemplateParameterCase, value: CamelCase }

# Engine-specific suppressions (uncomment as needed)
# For allocators, custom memory, ECS, SIMD code:
# - cppcoreguidelines-pro-bounds-pointer-arithmetic
# - cppcoreguidelines-pro-type-reinterpret-cast
# - cppcoreguidelines-pro-bounds-array-to-pointer-decay
# - cppcoreguidelines-owning-memory
# - hicpp-no-array-decay
# - google-runtime-references
